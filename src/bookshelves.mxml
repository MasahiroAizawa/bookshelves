<?xml version="1.0" encoding="utf-8"?>
<mx:Application xmlns:mx="http://www.adobe.com/2006/mxml"
				xmlns:top="features.top.*"
				xmlns:booksearch="features.booksearch.view.component.*"
				layout="vertical"
				creationComplete="facade.startup(this)"
				>
	<mx:Style>
		GridItem {
			border-style:solid;
			backgroup-color:#f1f1f1;
		}
		Grid {
			border-style:solid;
		}
	</mx:Style>
	<mx:Script>
		<![CDATA[
			import base.BaseFacade;

			import mx.events.MenuEvent;

			private var facade:BaseFacade = BaseFacade.getInstance();

			/**
			 * メニューバーに表示するメニュー<br>
			 */
			[Bindable]
			private var menuList:XMLList =
				<>
				<menu name="書棚メニュー">
					<item name="書棚検索" value="search"/>
					<item name="書棚登録" value="register"/>
				</menu>
				</>;

			/**
			 * トップ画面に戻る<br>
			 */
			private function goToTop(event:MouseEvent):void{
				viewStack.selectedChild = top;
			}

			/**
			 * メニューからメイン画面を変更する<br>
			 */
			private function changeMenu(event:MenuEvent):void{
				switch(event.item.@value[0].toString()){
					case "search":
						viewStack.selectedChild = bookSearchList;
						break;
					case "register":
						break;
				}
			}
		]]>
	</mx:Script>
	<mx:HBox width="100%" height="50"
			 backgroundColor="#1DD2F4"
			 >
		<mx:Label text="書棚管理システム（仮）"
				  fontSize="15"
				  buttonMode="true"
				  useHandCursor="true"
				  click="goToTop(event)"
				  />
	</mx:HBox>
	<mx:MenuBar id="menuBar" width="100%"
				labelField="@name"
				dataProvider="{menuList}"
				itemClick="changeMenu(event)"
				/>
	<mx:ViewStack id="viewStack"
				  width="100%" height="100%"
				  creationPolicy="all"
				  >
		<top:Top id="top"/>
		<booksearch:BookSearchList id="bookSearchList" />
	</mx:ViewStack>
</mx:Application>
